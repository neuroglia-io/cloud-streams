!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.eventDrops=e()}(this,function(){"use strict";var ve="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var G=t(function(t,e){var a=200,n="__lodash_hash_undefined__",r=800,o=16,i=9007199254740991,u="[object Arguments]",c="[object AsyncFunction]",l="[object Function]",f="[object GeneratorFunction]",s="[object Null]",j="[object Object]",d="[object Proxy]",p="[object Undefined]",v=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[u]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y[l]=y["[object Map]"]=y["[object Number]"]=y[j]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var _="object"==typeof ve&&ve&&ve.Object===Object&&ve,m="object"==typeof self&&self&&self.Object===Object&&self,b=_||m||Function("return this")(),g=e&&!e.nodeType&&e,w=g&&t&&!t.nodeType&&t,x=w&&w.exports===g,A=x&&_.process,O=function(){try{var t=w&&w.require&&w.require("util").types;return t||A&&A.binding&&A.binding("util")}catch(t){}}(),D=O&&O.isTypedArray;function z(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var T,M,S,k=Array.prototype,F=Function.prototype,$=Object.prototype,I=b["__core-js_shared__"],E=F.toString,C=$.hasOwnProperty,U=(T=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",P=$.toString,B=E.call(Object),L=RegExp("^"+E.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=x?b.Buffer:void 0,Y=b.Symbol,Z=b.Uint8Array,G=W?W.allocUnsafe:void 0,N=(M=Object.getPrototypeOf,S=Object,function(t){return M(S(t))}),J=Object.create,R=$.propertyIsEnumerable,q=k.splice,V=Y?Y.toStringTag:void 0,X=function(){try{var t=wt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),H=W?W.isBuffer:void 0,K=Math.max,Q=Date.now,tt=wt(b,"Map"),et=wt(Object,"create"),rt=function(){function r(){}return function(t){if(!Ct(t))return{};if(J)return J(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=this.__data__=new at(t);this.size=e.size}function ut(t,e){var r=kt(t),n=!r&&St(t),a=!r&&!n&&$t(t),o=!r&&!n&&!a&&Bt(t),i=r||n||a||o,u=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=u.length;for(var l in t)!e&&!C.call(t,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||jt(l,c))||u.push(l);return u}function ct(t,e,r){(void 0===r||Mt(t[e],r))&&(void 0!==r||e in t)||ft(t,e,r)}function lt(t,e){for(var r=t.length;r--;)if(Mt(t[r][0],e))return r;return-1}function ft(t,e,r){"__proto__"==e&&X?X(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}nt.prototype.clear=function(){this.__data__=et?et(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if(et){var r=e[t];return r===n?void 0:r}return C.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:C.call(e,t)},nt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=et&&void 0===e?n:e,this},at.prototype.clear=function(){this.__data__=[],this.size=0},at.prototype.delete=function(t){var e=this.__data__,r=lt(e,t);return!(r<0||(r==e.length-1?e.pop():q.call(e,r,1),--this.size,0))},at.prototype.get=function(t){var e=this.__data__,r=lt(e,t);return r<0?void 0:e[r][1]},at.prototype.has=function(t){return-1<lt(this.__data__,t)},at.prototype.set=function(t,e){var r=this.__data__,n=lt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(tt||at),string:new nt}},ot.prototype.delete=function(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e},ot.prototype.get=function(t){return gt(this,t).get(t)},ot.prototype.has=function(t){return gt(this,t).has(t)},ot.prototype.set=function(t,e){var r=gt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},it.prototype.clear=function(){this.__data__=new at,this.size=0},it.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},it.prototype.get=function(t){return this.__data__.get(t)},it.prototype.has=function(t){return this.__data__.has(t)},it.prototype.set=function(t,e){var r=this.__data__;if(r instanceof at){var n=r.__data__;if(!tt||n.length<a-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ot(n)}return r.set(t,e),this.size=r.size,this};var st,dt=function(t,e,r){for(var n=-1,a=Object(t),o=r(t),i=o.length;i--;){var u=o[st?i:++n];if(!1===e(a[u],u,a))break}return t};function pt(t){return null==t?void 0===t?p:s:V&&V in Object(t)?function(t){var e=C.call(t,V),r=t[V];try{var n=!(t[V]=void 0)}catch(t){}var a=P.call(t);n&&(e?t[V]=r:delete t[V]);return a}(t):(e=t,P.call(e));var e}function vt(t){return Ut(t)&&pt(t)==u}function ht(t){return!(!Ct(t)||(e=t,U&&U in e))&&(It(t)?L:v).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function yt(t){if(!Ct(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=xt(t),r=[];for(var n in t)("constructor"!=n||!e&&C.call(t,n))&&r.push(n);return r}function _t(n,a,o,i,u){n!==a&&dt(a,function(t,e){if(u||(u=new it),Ct(t))!function(t,e,r,n,a,o,i){var u=At(t,r),c=At(e,r),l=i.get(c);if(l)return ct(t,r,l);var f=o?o(u,c,r+"",t,e,i):void 0,s=void 0===f;if(s){var d=kt(c),p=!d&&$t(c),v=!d&&!p&&Bt(c);f=c,d||p||v?kt(u)?f=u:Ut(w=u)&&Ft(w)?f=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(u):p?f=function(t,e){if(e)return t.slice();var r=t.length,n=G?G(r):new t.constructor(r);return t.copy(n),n}(c,!(s=!1)):v?(_=c,m=!(s=!1)?(b=_.buffer,g=new b.constructor(b.byteLength),new Z(g).set(new Z(b)),g):_.buffer,f=new _.constructor(m,_.byteOffset,_.length)):f=[]:function(t){if(!Ut(t)||pt(t)!=j)return!1;var e=N(t);if(null===e)return!0;var r=C.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&E.call(r)==B}(c)||St(c)?St(f=u)?f=function(t,e,r,n){var a=!r;r||(r={});for(var o,i,u,c,l=-1,f=e.length;++l<f;){var s=e[l],d=n?n(r[s],t[s],s,r,t):void 0;void 0===d&&(d=t[s]),a?ft(r,s,d):(u=d,c=(o=r)[i=s],C.call(o,i)&&Mt(c,u)&&(void 0!==u||i in o)||ft(o,i,u))}return r}(y=u,Wt(y)):Ct(u)&&!It(u)||(f="function"!=typeof(h=c).constructor||xt(h)?{}:rt(N(h))):s=!1}var h;var y;var _,m,b,g;var w;s&&(i.set(c,f),a(f,c,n,o,i),i.delete(c));ct(t,r,f)}(n,a,e,o,_t,i,u);else{var r=i?i(At(n,e),t,e+"",n,a,u):void 0;void 0===r&&(r=t),ct(n,e,r)}},Wt)}function mt(t,e){return Tt((o=t,u=Gt,i=K(void 0===(i=e)?o.length-1:i,0),function(){for(var t=arguments,e=-1,r=K(t.length-i,0),n=Array(r);++e<r;)n[e]=t[i+e];e=-1;for(var a=Array(i+1);++e<i;)a[e]=t[e];return a[i]=u(n),z(o,this,a)}),t+"");var o,i,u}function bt(t,e,r,n,a,o){return Ct(t)&&Ct(e)&&(o.set(e,t),_t(t,e,void 0,bt,o),o.delete(e)),t}function gt(t,e){var r,n,a=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof e?"string":"hash"]:a.map}function wt(t,e){var r,n,a=(n=e,null==(r=t)?void 0:r[n]);return ht(a)?a:void 0}function jt(t,e){var r=typeof t;return!!(e=null==e?i:e)&&("number"==r||"symbol"!=r&&h.test(t))&&-1<t&&t%1==0&&t<e}function xt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$)}function At(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ot,Dt,zt,Tt=(Ot=X?function(t,e){return X(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Gt,zt=Dt=0,function(){var t=Q(),e=o-(t-zt);if(zt=t,0<e){if(++Dt>=r)return arguments[0]}else Dt=0;return Ot.apply(void 0,arguments)});function Mt(t,e){return t===e||t!=t&&e!=e}var St=vt(function(){return arguments}())?vt:function(t){return Ut(t)&&C.call(t,"callee")&&!R.call(t,"callee")},kt=Array.isArray;function Ft(t){return null!=t&&Et(t.length)&&!It(t)}var $t=H||function(){return!1};function It(t){if(!Ct(t))return!1;var e=pt(t);return e==l||e==f||e==c||e==d}function Et(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=i}function Ct(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ut(t){return null!=t&&"object"==typeof t}var Pt,Bt=D?(Pt=D,function(t){return Pt(t)}):function(t){return Ut(t)&&Et(t.length)&&!!y[pt(t)]};var Lt=mt(function(t){return t.push(void 0,bt),z(Zt,void 0,t)});function Wt(t){return Ft(t)?ut(t,!0):yt(t)}var Yt,Zt=(Yt=function(t,e,r,n){_t(t,e,r,n)},mt(function(t,e){var r=-1,n=e.length,a=1<n?e[n-1]:void 0,o=2<n?e[2]:void 0;for(a=3<Yt.length&&"function"==typeof a?(n--,a):void 0,o&&function(t,e,r){if(!Ct(r))return!1;var n=typeof e;return!!("number"==n?Ft(r)&&jt(e,r.length):"string"==n&&e in r)&&Mt(r[e],t)}(e[0],e[1],o)&&(a=n<3?void 0:a,n=1),t=Object(t);++r<n;){var i=e[r];i&&Yt(t,i,r,a)}return t}));function Gt(t){return t}t.exports=Lt}),N={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},p=t(function(t,e){var p=200,r="Expected a function",n="__lodash_hash_undefined__",_=1,g=2,o=1/0,a=9007199254740991,m="[object Arguments]",b="[object Array]",w="[object Boolean]",j="[object Date]",x="[object Error]",i="[object Function]",u="[object GeneratorFunction]",A="[object Map]",O="[object Number]",D="[object Object]",c="[object Promise]",z="[object RegExp]",T="[object Set]",M="[object String]",S="[object Symbol]",l="[object WeakMap]",k="[object ArrayBuffer]",F="[object DataView]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,d=/^\./,v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[m]=I[b]=I[k]=I[w]=I[F]=I[j]=I[x]=I[i]=I[A]=I[O]=I[D]=I[z]=I[T]=I[M]=I[l]=!1;var E="object"==typeof ve&&ve&&ve.Object===Object&&ve,C="object"==typeof self&&self&&self.Object===Object&&self,U=E||C||Function("return this")(),P=e&&!e.nodeType&&e,B=P&&t&&!t.nodeType&&t,L=B&&B.exports===P&&E.process,W=function(){try{return L&&L.binding("util")}catch(t){}}(),Y=W&&W.isTypedArray;function Z(t,e){return!!(t?t.length:0)&&-1<function(t,e,r){if(e!=e)return function(t,e,r,n){var a=t.length,o=r+(n?1:-1);for(;n?o--:++o<a;)if(e(t[o],o,t))return o;return-1}(t,J,r);var n=r-1,a=t.length;for(;++n<a;)if(t[n]===e)return n;return-1}(t,e,0)}function G(t,e,r){for(var n=-1,a=t?t.length:0;++n<a;)if(r(e,t[n]))return!0;return!1}function N(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function J(t){return t!=t}function R(t,e){return t.has(e)}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function X(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var H,K,Q,tt=Array.prototype,et=Function.prototype,rt=Object.prototype,nt=U["__core-js_shared__"],at=(H=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",ot=et.toString,it=rt.hasOwnProperty,ut=rt.toString,ct=RegExp("^"+ot.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=U.Symbol,ft=U.Uint8Array,st=rt.propertyIsEnumerable,dt=tt.splice,pt=(K=Object.keys,Q=Object,function(t){return K(Q(t))}),vt=Nt(U,"DataView"),ht=Nt(U,"Map"),yt=Nt(U,"Promise"),_t=Nt(U,"Set"),mt=Nt(U,"WeakMap"),bt=Nt(Object,"create"),gt=Qt(vt),wt=Qt(ht),jt=Qt(yt),xt=Qt(_t),At=Qt(mt),Ot=lt?lt.prototype:void 0,Dt=Ot?Ot.valueOf:void 0,zt=Ot?Ot.toString:void 0;function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.__data__=new St;++e<r;)this.add(t[e])}function Ft(t){this.__data__=new Mt(t)}function $t(t,e){var r=ne(t)||re(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,a=!!n;for(var o in t)!e&&!it.call(t,o)||a&&("length"==o||Rt(o,n))||r.push(o);return r}function It(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}function Et(t,e){for(var r=0,n=(e=qt(e,t)?[e]:Wt(e)).length;null!=t&&r<n;)t=t[Kt(e[r++])];return r&&r==n?t:void 0}function Ct(t,e){return null!=t&&e in Object(t)}function Ut(t,e,r,n,a){return t===e||(null==t||null==e||!ue(t)&&!ce(e)?t!=t&&e!=e:function(t,e,r,n,a,o){var i=ne(t),u=ne(e),c=b,l=b;i||(c=(c=Jt(t))==m?D:c);u||(l=(l=Jt(e))==m?D:l);var f=c==D&&!q(t),s=l==D&&!q(e),d=c==l;if(d&&!f)return o||(o=new Ft),i||se(t)?Zt(t,e,r,n,a,o):function(t,e,r,n,a,o,i){switch(r){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!n(new ft(t),new ft(e)));case w:case j:case O:return ee(+t,+e);case x:return t.name==e.name&&t.message==e.message;case z:case M:return t==e+"";case A:var u=V;case T:var c=o&g;if(u||(u=X),t.size!=e.size&&!c)return!1;var l=i.get(t);if(l)return l==e;o|=_,i.set(t,e);var f=Zt(u(t),u(e),n,a,o,i);return i.delete(t),f;case S:if(Dt)return Dt.call(t)==Dt.call(e)}return!1}(t,e,c,r,n,a,o);if(!(a&g)){var p=f&&it.call(t,"__wrapped__"),v=s&&it.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,y=v?e.value():e;return o||(o=new Ft),r(h,y,n,a,o)}}if(!d)return!1;return o||(o=new Ft),function(t,e,r,n,a,o){var i=a&g,u=de(t),c=u.length,l=de(e).length;if(c!=l&&!i)return!1;for(var f=c;f--;){var s=u[f];if(!(i?s in e:it.call(e,s)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var v=i;++f<c;){s=u[f];var h=t[s],y=e[s];if(n)var _=i?n(y,h,s,e,t,o):n(h,y,s,t,e,o);if(!(void 0===_?h===y||r(h,y,n,a,o):_)){p=!1;break}v||(v="constructor"==s)}if(p&&!v){var m=t.constructor,b=e.constructor;m!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,a,o)}(t,e,Ut,r,n,a))}function Pt(t){return!(!ue(t)||(e=t,at&&at in e))&&(oe(t)||q(t)?ct:y).test(Qt(t));var e}function Bt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?ne(t)?function(c,l){if(qt(c)&&Vt(l))return Xt(Kt(c),l);return function(t){var e,r,n,a,o,i,u=(r=c,void 0===(a=null==(e=t)?void 0:Et(e,r))?n:a);return void 0===u&&u===l?(i=c,null!=(o=t)&&function(t,e,r){e=qt(e,t)?[e]:Wt(e);for(var n,a=-1,o=e.length;++a<o;){var i=Kt(e[a]);if(!(n=null!=t&&r(t,i)))break;t=t[i]}return n||!!(o=t?t.length:0)&&ie(o)&&Rt(i,o)&&(ne(t)||re(t))}(o,i,Ct)):Ut(l,u,void 0,_|g)}}(t[0],t[1]):function(e){var r=function(t){var e=de(t),r=e.length;for(;r--;){var n=e[r],a=t[n];e[r]=[n,a,Vt(a)]}return e}(e);if(1==r.length&&r[0][2])return Xt(r[0][0],r[0][1]);return function(t){return t===e||function(t,e,r,n){var a=r.length,o=a,i=!n;if(null==t)return!o;for(t=Object(t);a--;){var u=r[a];if(i&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<o;){var c=(u=r[a])[0],l=t[c],f=u[1];if(i&&u[2]){if(void 0===l&&!(c in t))return!1}else{var s=new Ft;if(n)var d=n(l,f,c,t,e,s);if(!(void 0===d?Ut(f,l,n,_|g,s):d))return!1}}return!0}(t,e,r)}}(t):qt(e=t)?(n=Kt(e),function(t){return null==t?void 0:t[n]}):(r=e,function(t){return Et(t,r)});var e,r,n}function Lt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||rt,e!==n)return pt(t);var e,r,n,a=[];for(var o in Object(t))it.call(t,o)&&"constructor"!=o&&a.push(o);return a}function Wt(t){return ne(t)?t:Ht(t)}Tt.prototype.clear=function(){this.__data__=bt?bt(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===n?void 0:r}return it.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:it.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?n:e,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var e=this.__data__,r=It(e,t);return!(r<0||(r==e.length-1?e.pop():dt.call(e,r,1),0))},Mt.prototype.get=function(t){var e=this.__data__,r=It(e,t);return r<0?void 0:e[r][1]},Mt.prototype.has=function(t){return-1<It(this.__data__,t)},Mt.prototype.set=function(t,e){var r=this.__data__,n=It(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new Tt,map:new(ht||Mt),string:new Tt}},St.prototype.delete=function(t){return Gt(this,t).delete(t)},St.prototype.get=function(t){return Gt(this,t).get(t)},St.prototype.has=function(t){return Gt(this,t).has(t)},St.prototype.set=function(t,e){return Gt(this,t).set(t,e),this},kt.prototype.add=kt.prototype.push=function(t){return this.__data__.set(t,n),this},kt.prototype.has=function(t){return this.__data__.has(t)},Ft.prototype.clear=function(){this.__data__=new Mt},Ft.prototype.delete=function(t){return this.__data__.delete(t)},Ft.prototype.get=function(t){return this.__data__.get(t)},Ft.prototype.has=function(t){return this.__data__.has(t)},Ft.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Mt){var n=r.__data__;if(!ht||n.length<p-1)return n.push([t,e]),this;r=this.__data__=new St(n)}return r.set(t,e),this};var Yt=_t&&1/X(new _t([,-0]))[1]==o?function(t){return new _t(t)}:function(){};function Zt(t,e,r,n,a,o){var i=a&g,u=t.length,c=e.length;if(u!=c&&!(i&&u<c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var f=-1,s=!0,d=a&_?new kt:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(n)var h=i?n(v,p,f,e,t,o):n(p,v,f,t,e,o);if(void 0!==h){if(h)continue;s=!1;break}if(d){if(!N(e,function(t,e){if(!d.has(e)&&(p===t||r(p,t,n,a,o)))return d.add(e)})){s=!1;break}}else if(p!==v&&!r(p,v,n,a,o)){s=!1;break}}return o.delete(t),o.delete(e),s}function Gt(t,e){var r,n,a=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof e?"string":"hash"]:a.map}function Nt(t,e){var r,n,a=(n=e,null==(r=t)?void 0:r[n]);return Pt(a)?a:void 0}var Jt=function(t){return ut.call(t)};function Rt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||$.test(t))&&-1<t&&t%1==0&&t<e}function qt(t,e){if(ne(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!le(t))||(s.test(t)||!f.test(t)||null!=e&&t in Object(e))}function Vt(t){return t==t&&!ue(t)}function Xt(e,r){return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in Object(t)))}}(vt&&Jt(new vt(new ArrayBuffer(1)))!=F||ht&&Jt(new ht)!=A||yt&&Jt(yt.resolve())!=c||_t&&Jt(new _t)!=T||mt&&Jt(new mt)!=l)&&(Jt=function(t){var e=ut.call(t),r=e==D?t.constructor:void 0,n=r?Qt(r):void 0;if(n)switch(n){case gt:return F;case wt:return A;case jt:return c;case xt:return T;case At:return l}return e});var Ht=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(le(t))return zt?zt.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var a=[];return d.test(t)&&a.push(""),t.replace(v,function(t,e,r,n){a.push(r?n.replace(h,"$1"):e||t)}),a});function Kt(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function Qt(t){if(null!=t){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(a,o){if("function"!=typeof a||o&&"function"!=typeof o)throw new TypeError(r);var i=function(){var t=arguments,e=o?o.apply(this,t):t[0],r=i.cache;if(r.has(e))return r.get(e);var n=a.apply(this,t);return i.cache=r.set(e,n),n};return i.cache=new(te.Cache||St),i}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return ce(e=t)&&ae(e)&&it.call(t,"callee")&&(!st.call(t,"callee")||ut.call(t)==m);var e}te.Cache=St;var ne=Array.isArray;function ae(t){return null!=t&&ie(t.length)&&!oe(t)}function oe(t){var e=ue(t)?ut.call(t):"";return e==i||e==u}function ie(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=a}function ue(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function le(t){return"symbol"==typeof t||ce(t)&&ut.call(t)==S}var fe,se=Y?(fe=Y,function(t){return fe(t)}):function(t){return ce(t)&&ie(t.length)&&!!I[ut.call(t)]};function de(t){return ae(t)?$t(t):Lt(t)}function pe(t){return t}t.exports=function(t,e){return t&&t.length?function(t,e,r){var n=-1,a=Z,o=t.length,i=!0,u=[],c=u;if(r)i=!1,a=G;else if(p<=o){var l=e?null:Yt(t);if(l)return X(l);i=!1,a=R,c=new kt}else c=e?[]:u;t:for(;++n<o;){var f=t[n],s=e?e(f):f;if(f=r||0!==f?f:0,i&&s==s){for(var d=c.length;d--;)if(c[d]===s)continue t;e&&c.push(s),u.push(f)}else a(c,s,r)||(c!==u&&c.push(s),u.push(f))}return u}(t,Bt(e)):[]}}),j=function(s,d){return function(t){var e,r,n=s.drop,a=n.color,o=n.radius,i=n.date,u=n.onClick,c=n.onMouseOver,l=n.onMouseOut,f=t.selectAll(".drop").data((e=d,r=i,function(t){return p(t.data,function(t){return Math.round(e(r(t)))})}));f.enter().append("circle").classed("drop",!0).on("click",u).on("mouseover",c).on("mouseout",l).merge(f).attr("r",o).attr("fill",a).attr("cx",function(t){return d(i(t))}),f.exit().on("click",null).on("mouseover",null).on("mouseout",null).remove()}};var v=function(t){return t instanceof Date},h=36e5,y=6e4,_=2,m=/[T ]/,b=/:/,g=/^(\d{2})$/,w=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],x=/^(\d{4})/,A=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],O=/^-(\d{2})$/,D=/^-?(\d{3})$/,z=/^-?(\d{2})-?(\d{2})$/,T=/^-?W(\d{2})$/,M=/^-?W(\d{2})-?(\d{1})$/,S=/^(\d{2}([.,]\d*)?)$/,k=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,F=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,$=/([Z+-].*)$/,I=/^(Z)$/,E=/^([+-])(\d{2})$/,C=/^([+-])(\d{2}):?(\d{2})$/;function U(t,e,r){e=e||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var a=7*e+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+a),n}var i=function(t,e){if(v(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var r=(e||{}).additionalDigits;r=null==r?_:Number(r);var n=function(t){var e,r={},n=t.split(m);if(b.test(n[0])?(r.date=null,e=n[0]):(r.date=n[0],e=n[1]),e){var a=$.exec(e);a?(r.time=e.replace(a[1],""),r.timezone=a[1]):r.time=e}return r}(t),a=function(t,e){var r,n=w[e],a=A[e];if(r=x.exec(t)||a.exec(t)){var o=r[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(r=g.exec(t)||n.exec(t)){var i=r[1];return{year:100*parseInt(i,10),restDateString:t.slice(i.length)}}return{year:null}}(n.date,r),o=a.year,i=function(t,e){if(null===e)return null;var r,n,a,o;if(0===t.length)return(n=new Date(0)).setUTCFullYear(e),n;if(r=O.exec(t))return n=new Date(0),a=parseInt(r[1],10)-1,n.setUTCFullYear(e,a),n;if(r=D.exec(t)){n=new Date(0);var i=parseInt(r[1],10);return n.setUTCFullYear(e,0,i),n}if(r=z.exec(t)){n=new Date(0),a=parseInt(r[1],10)-1;var u=parseInt(r[2],10);return n.setUTCFullYear(e,a,u),n}if(r=T.exec(t))return o=parseInt(r[1],10)-1,U(e,o);if(r=M.exec(t)){o=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return U(e,o,c)}return null}(a.restDateString,o);if(i){var u,c=i.getTime(),l=0;return n.time&&(l=function(t){var e,r,n;if(e=S.exec(t))return(r=parseFloat(e[1].replace(",",".")))%24*h;if(e=k.exec(t))return r=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),r%24*h+n*y;if(e=F.exec(t)){r=parseInt(e[1],10),n=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return r%24*h+n*y+1e3*a}return null}(n.time)),n.timezone?(f=n.timezone,u=(s=I.exec(f))?0:(s=E.exec(f))?(d=60*parseInt(s[2],10),"+"===s[1]?-d:d):(s=C.exec(f))?(d=60*parseInt(s[2],10)+parseInt(s[3],10),"+"===s[1]?-d:d):0):(u=new Date(c+l).getTimezoneOffset(),u=new Date(c+l+u*y).getTimezoneOffset()),new Date(c+l+u*y)}var f,s,d;return new Date(t)};var n=function(t,e){var r=i(t),n=i(e);return r.getTime()<n.getTime()};var s=function(t,e){var r=Math.min.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e));return n(new Date(t),r)};var a=function(t,e){var r=i(t),n=i(e);return r.getTime()>n.getTime()};var d=function(t,e){var r=Math.max.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e));return a(new Date(t),r)},P=function(l,f){return function(t){var e=l.label.width,r=l.line.height,n=l.drop.date,a=l.indicator,o=a.previousText,i=a.nextText,u=f.domain().map(function(t){return new Date(t)}),c=t.selectAll(".indicator").data(function(t){var e=[];return t.fullData.some(function(t){return s(n(t),u)})&&e.push("before"),t.fullData.some(function(t){return d(n(t),u)})&&e.push("after"),e});c.enter().append("text").classed("indicator",!0).attr("opacity",.5).attr("x",function(t){return"before"===t?e:"100%"}).attr("dx",function(t){return"before"===t?0:-25}).attr("y",r/2).attr("dy","0.25em").text(function(t){return"before"===t?o:i}),c.attr("x",function(t){return"before"===t?e:"100%"}).attr("dx",function(t){return"before"===t?0:-25}).attr("y",r/2).attr("dy","0.25em").text(function(t){return"before"===t?o:i}),c.exit().remove()}};var J=function(t,e,r){var n=i(t).getTime(),a=i(e).getTime(),o=i(r).getTime();if(o<a)throw new Error("The start of the range cannot be after the end of the range");return a<=n&&n<=o};function R(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}return function(t){var e=t.d3,B=void 0===e?window.d3:e,r=t.global,L=void 0===r?window:r,W=function(t,e){var r={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["d3","global"]),n=function(t){t.selectAll("svg").remove();var e=t.selectAll("svg").data(t.data());e.exit().remove();var r,d=G(W||{},{locale:N,metaballs:{blurDeviation:10,colorMatrix:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 50 -10"},bound:{format:(r=B).timeFormat("%d %B %Y")},axis:{formats:{milliseconds:"%L",seconds:":%S",minutes:"%I:%M",hours:"%I %p",days:"%a %d",weeks:"%b %d",months:"%B",year:"%Y"},verticalGrid:!1,tickPadding:6},drops:function(t){return t.data},drop:{color:null,radius:5,date:function(t){return new Date(t)},onClick:function(){},onMouseOver:function(){},onMouseOut:function(){}},label:{padding:20,text:function(t){return t.name+" ("+t.data.length+")"},onMouseOver:function(){},onMouseOut:function(){},onClick:function(){},width:200},indicator:{previousText:"◀",nextText:"▶"},line:{color:function(t,e){return r.schemeCategory10[e]},height:40},margin:{top:20,right:10,bottom:20,left:10},range:{start:new Date((new Date).getTime()-31536e6),end:new Date},zoom:{onZoomStart:null,onZoom:null,onZoomEnd:null,minimumScale:0,maximumScale:1/0,restrictPan:!1},numberDisplayedTicks:{small:3,medium:5,large:7,extra:12},breakpoints:{small:576,medium:768,large:992,extra:1200}}),n=(d.drops,d.zoom),a=d.drop,o=(a.onClick,a.onMouseOut,a.onMouseOver,d.metaballs),i=d.label.width,u=d.line.height,c=d.range,l=c.start,f=c.end,s=d.margin,p=d.breakpoints,v=t.node().clientWidth-s.left-s.right,h=B.scaleTime().domain([l,f]).range([0,v-i]);Y._scale=h,Y.currentBreakpointLabel=function(t,e){for(var r in t)if(e<=t[r])return r;return"extra"}(p,L.innerWidth);var y,_,m,b,g,w,j,x,A,O,D,z,T,M,S,k,F,$,I,E,C=e.enter().append("svg").attr("width",v).classed("event-drop-chart",!0),U=parseFloat(C.style("height"));if(n){var P=B.zoom();C.call((y=B,_=C,b=P,g=h,w=Z,j=v,x=U,A=(m=d).label,O=A.width,D=A.padding,z=m.zoom,T=z.onZoomStart,M=z.onZoom,S=z.onZoomEnd,k=z.minimumScale,F=z.maximumScale,$=z.restrictPan,I=[[O+D,0],[j,x]],b.scaleExtent([k,F]),$&&b.translateExtent(I).extent(I),b.on("zoom.start",T).on("zoom.end",S),b.on("zoom",function(t,e){var r,n,a,o,i,u,c,l,f=(r=t.transform,o=y,i=(n=O)+(a=D),u=r.x,c=r.y,l=r.k,o.zoomIdentity.translate(-i,0).translate(u,c).scale(l).translate(n+a,0)).rescaleX(g);_.call(w(m,f)),M&&M(e)}),b)),Y._zoomToDomain=function(t,e,r,n){var a,o,i,u,c,l,f,s=(a=B,o=t,i=h,u=v,c=d.label,l=c.width,f=l+c.padding,a.zoomIdentity.translate(f,0).scale((u-l)/(i(o[1])-i(o[0]))).translate(-i(o[0]),0).translate(-f,0));C.transition().ease(n).delay(r).duration(e).call(P.transform,s)}}o&&C.call((E=d,function(t){var e=E.metaballs,r=e.blurDeviation,n=e.colorMatrix,a=t.append("defs").append("filter").attr("id","metaballs");a.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",r).attr("result","blur"),a.append("feColorMatrix").attr("in","blur").attr("mode","matrix").attr("values",n).attr("result","contrast"),a.append("feBlend").attr("in","SourceGraphic").attr("in2","contrast")})),C.merge(e).attr("height",function(t){return(t.length+1)*u+s.top+s.bottom}),C.append("g").classed("viewport",!0).attr("transform","translate("+s.left+","+s.top+")").call(Z(d,h))},Y=function t(e){t._initialize=function(){return n(e)},t._initialize(),L.addEventListener("resize",t._initialize,!0)};Y.scale=function(){return Y._scale},Y.filteredData=function(){return Y._filteredData},Y.zoomToDomain=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:B.easeLinear;if("function"!=typeof Y._zoomToDomain)throw new Error('Calling "zoomToDomain" requires zooming to be enabled.');Y._zoomToDomain(t,e,r,n)},Y.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};L.removeEventListener("resize",Y._initialize,!0),t()};var Z=function(g,w){return function(t){var c,l,y,_,a,e,n,o,i,r,u,f,s,d,p,v,h=g.drop.date,m=w.domain().map(function(t){return new Date(t)}),b=t.data().map(function(t){if(!Array.isArray(t))throw new Error("Selection data is not an array. Are you sure you provided an array of arrays to `data` function?");return t.map(function(t){if(!t.fullData&&(t.fullData=g.drops(t),!t.fullData))throw new Error("No drops data has been found. It looks by default in the `data` property. You can use the `drops` configuration parameter to tune it.");return t.data=t.fullData.filter(function(t){return e=h(t),r=m,n=Math.min.apply(Math,R(r)),a=Math.max.apply(Math,R(r)),J(new Date(e),n,a);var e,r,n,a}),t})});Y._scale=w,Y._filteredData=b[0],t.data(b).call((a=B,e=g,n=w,o=Y.currentBreakpointLabel,i=e.label.width,r=e.axis,u=r.formats,f=r.verticalGrid,s=r.tickPadding,d=e.locale,p=e.numberDisplayedTicks,v=e.line.height,a.timeFormatDefaultLocale(d),function(t){var e=t.selectAll(".axis").data(function(t){return t});e.exit().remove();var r=a.axisTop(n).tickFormat(function(t){return e=t,r=u,(n=a).timeSecond(e)<e?n.timeFormat(r.milliseconds)(e):n.timeMinute(e)<e?n.timeFormat(r.seconds)(e):n.timeHour(e)<e?n.timeFormat(r.minutes)(e):n.timeDay(e)<e?n.timeFormat(r.hours)(e):n.timeMonth(e)<e?n.timeWeek(e)<e?n.timeFormat(r.days)(e):n.timeFormat(r.weeks)(e):n.timeYear(e)<e?n.timeFormat(r.months)(e):n.timeFormat(r.year)(e);var e,r,n}).ticks(p[o]).tickPadding(s);f&&r.tickSizeInner(-t.data()[0].length*v),e.enter().filter(function(t,e){return!e}).append("g").classed("axis",!0).attr("transform","translate("+i+",0)").call(r),e.call(r)})).call((y=g,_=w,function(t){var e=y.metaballs,r=y.label,n=r.text,a=r.padding,o=r.onMouseOver,i=r.onMouseOut,u=r.onClick,c=r.width,l=y.line,f=l.color,s=l.height,d=y.indicator,p=t.selectAll(".drop-line").data(function(t){return t}),v=p.enter().append("g").classed("drop-line",!0).attr("fill",f).attr("transform",function(t,e){return"translate(0, "+e*s+")"});v.append("line").classed("line-separator",!0).attr("x1",c).attr("x2","100%").attr("y1",function(){return s}).attr("y2",function(){return s});var h=v.append("g").classed("drops",!0).attr("transform",function(){return"translate("+c+", "+s/2+")"}).call(j(y,_));h.append("rect").attr("x",0).attr("y",-y.line.height/2).attr("width",1).attr("height",y.line.height).attr("fill","transparent"),e&&h.style("filter","url(#metaballs)"),v.append("text").classed("line-label",!0).attr("x",c-a).attr("y",s/2).attr("dy","0.25em").attr("text-anchor","end").text(n).on("mouseover",o).on("mouseout",i).on("click",u),p.selectAll(".line-label").text(n),p.selectAll(".drops").call(j(y,_)),d&&(v.append("g").classed("indicators",!0).call(P(y,_)),p.selectAll(".indicators").call(P(y,_))),p.exit().remove()})).call((c=g,l=w,function(t){var e=c.margin,r=c.bound.format,n=c.label.width,a=c.line.height,o=t.selectAll(".bound").data(function(t){return t}),i=t.data()[0].length;o.exit().remove();var u=o.enter().filter(function(t,e){return!e}).append("g").classed("bound",!0).attr("transform","translate("+n+", "+(a*i+e.top)+")");u.append("text").classed("start",!0).text(r(l.domain()[0])),u.append("text").classed("end",!0).attr("x",l.range()[1]-e.right).attr("text-anchor","end").text(r(l.domain()[1])),o.selectAll(".bound text.start").text(r(l.domain()[0])),o.selectAll(".bound text.end").text(r(l.domain()[1]))}))}};return Y.draw=Z,Y}});
//# sourceMappingURL=index.js.map
